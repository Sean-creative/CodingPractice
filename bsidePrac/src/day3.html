<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    class Stack {
        constructor() {
            this.store = [];
        }

        push(item) {
            this.store.push(item);
        }

        pop() {
            return this.store.pop();
        }
    }

    const stack = new Stack();
    // stack.push(2);
    // stack.pop();


    // arr.length는 5다.
    // sum = 21
    let arr = [1, 2, [1, 2, 3, [1, 2]], 4, 5];
    let acc = 0;
    arr = [4, [1, 2, 3], 5];

    const sum = function (arr, i, acc, stack) {

        //덧셈이 완료되는 조건 -> 1. stack을 다비웠는가? 2.arr을 전부 돌았는가
        if (stack.length !== 0) {
            //스택이 안비워져있다는 것은, 아직 더해야할 것들이 남아있는 상태!
            //1. 남아있는 스택을 비우기위해 다시 더한다.

            //숫자라면
            stack.store[1];

            if (!isNaN(arr[i])) {
                return sum(arr, i + 1, acc + arr[i], stack);
            }



            // 배열을 완료했다면
            if (i === arr.length) {

            }

        } else {
            if (i === arr.length)
            return acc;
            stack.pop();
        }



        //숫자라면
        if (!isNaN(arr[i])) {
            return sum(arr, i + 1, acc + arr[i], stack);
        }

        //배열이라면
        else if (Array.isArray(arr[i])) {
            //stack에는 [뭘더해야하는지(arr[i]) ,계산하고 돌아갈 위치(i)]
            stack.push([arr[i], i+1]);
            return sum(arr, 0, acc, stack);
        } else {
            return 0;
        }
    }

    console.log(sum(arr, 0, acc, stack));

</script>

</body>
</html>