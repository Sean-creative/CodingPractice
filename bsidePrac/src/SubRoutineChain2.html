<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SubRoutineChain2 210215</title>
</head>
<body>
<script>

   //배열안에 배열들을 더한다. 꼬리물기 최적화(X)

   const arr = [1,2,[1,2,3,[1,2]],4,5]; // sum = 21

    const sum = function (arr, i) {
        if(i===arr.length) return 0;
        // else return arr[i] + sum(arr, i+1)

        //숫자라면
        else if (!isNaN(arr[i])) {
            return arr[i] + sum(arr, i+1);
        }

        //배열이라면
        else if (Array.isArray(arr[i])) {
            return sum(arr[i], 0) + sum(arr, i+1);
        }
        else {
            return 0;
        }
    }
    console.log(sum(arr, 0));

</script>

</body>
</html>